<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileMaker OData MCP Server</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 2rem;
        }
        
        h2 {
            color: #667eea;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }
        
        h3 {
            color: #764ba2;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1.3rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        code {
            background: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 6px;
            overflow-x: auto;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }
        
        ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        li {
            margin-bottom: 0.5rem;
        }
        
        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            margin-left: 0.5rem;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .tool-list {
            display: grid;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .tool-item {
            background: #f8f9fa;
            padding: 0.75rem;
            border-radius: 6px;
            border-left: 3px solid #667eea;
        }
        
        .tool-name {
            font-weight: 600;
            color: #667eea;
            font-family: monospace;
        }
        
        footer {
            background: #f8f9fa;
            padding: 1.5rem;
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
        
        .step-number {
            display: inline-block;
            background: #667eea;
            color: white;
            width: 2rem;
            height: 2rem;
            line-height: 2rem;
            border-radius: 50%;
            text-align: center;
            font-weight: bold;
            margin-right: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìä FileMaker OData MCP Server</h1>
            <p class="subtitle">Connect your AI assistants to FileMaker databases via OData</p>
        </header>
        
        <div class="content">
            <h2>üöÄ Quick Setup</h2>
            <p>This MCP server allows AI assistants like Claude Desktop and Cursor to interact with FileMaker databases through the OData API.</p>
            
            <div class="info">
                <strong>üìù Note:</strong> This server requires configuration via headers. You need to provide your FileMaker server details, database name, and credentials in the MCP client configuration.
            </div>
            
            <h3><span class="step-number">1</span>Gather Your FileMaker Details</h3>
            <p>You'll need:</p>
            <ul>
                <li><strong>Server Host:</strong> Your FileMaker server URL (e.g., <code>https://your-server.com</code>)</li>
                <li><strong>Database Name:</strong> The FileMaker database/filename</li>
                <li><strong>Credentials:</strong> Either username/password OR Otto API key</li>
            </ul>
            
            <h3><span class="step-number">2</span>Configure Your AI Assistant</h3>
            
            <h4>For Cursor IDE</h4>
            <p>Add this to your <code>~/.cursor/mcp.json</code> file:</p>
            <pre><code>{
  "mcpServers": {
    "fmodata": {
      "url": "https://YOUR-DEPLOYMENT.vercel.app/api/mcp",
      "headers": {
        "x-fmodata-host": "https://your-filemaker-server.com",
        "x-fmodata-database": "YourDatabase",
        "x-fmodata-username": "your-username",
        "x-fmodata-password": "your-password"
      }
    }
  }
}</code></pre>

            <h4>For Claude Desktop</h4>
            <p>Add this to your Claude Desktop config file:</p>
            <pre><code>{
  "mcpServers": {
    "fmodata": {
      "url": "https://YOUR-DEPLOYMENT.vercel.app/api/mcp",
      "headers": {
        "x-fmodata-host": "https://your-filemaker-server.com",
        "x-fmodata-database": "YourDatabase",
        "x-fmodata-username": "your-username",
        "x-fmodata-password": "your-password"
      }
    }
  }
}</code></pre>

            <div class="info">
                <strong>üîê Using Otto?</strong> If you're using Otto (OttoFMS or Otto3), use these headers instead:
                <ul style="margin-top: 0.5rem;">
                    <li><code>x-fmodata-otto-api-key</code>: Your Otto API key (starts with <code>KEY_</code> or <code>dk_</code>)</li>
                    <li><code>x-fmodata-otto-port</code>: Otto port (only for Otto3, usually 3030)</li>
                </ul>
            </div>
            
            <h3><span class="step-number">3</span>Restart Your AI Assistant</h3>
            <p>After updating the configuration, restart Claude Desktop or Cursor IDE to load the new MCP server.</p>
            
            <h2>üõ†Ô∏è Available Tools</h2>
            <p>Once configured, you'll have access to these FileMaker operations:</p>
            
            <div class="tool-list">
                <div class="tool-item">
                    <div class="tool-name">fmodata_list_tables</div>
                    <div>Get all tables in the database</div>
                </div>
                
                <div class="tool-item">
                    <div class="tool-name">fmodata_get_metadata</div>
                    <div>Get OData metadata ($metadata)</div>
                </div>
                
                <div class="tool-item">
                    <div class="tool-name">fmodata_query_records</div>
                    <div>Query records with filters, sorting, and pagination</div>
                </div>
                
                <div class="tool-item">
                    <div class="tool-name">fmodata_get_record</div>
                    <div>Get a single record by primary key</div>
                </div>
                
                <div class="tool-item">
                    <div class="tool-name">fmodata_create_record</div>
                    <div>Create a new record</div>
                </div>
                
                <div class="tool-item">
                    <div class="tool-name">fmodata_update_record</div>
                    <div>Update an existing record</div>
                </div>
                
                <div class="tool-item">
                    <div class="tool-name">fmodata_delete_record</div>
                    <div>Delete a record</div>
                </div>
            </div>
            
            <h2>üí° Example Commands</h2>
            <p>Once connected, you can ask your AI assistant things like:</p>
            <ul>
                <li>"List all tables in my FileMaker database"</li>
                <li>"Show me all records from the Contacts table"</li>
                <li>"Create a new contact with name 'John Doe' and email 'john@example.com'"</li>
                <li>"Find all customers where City equals 'New York'"</li>
                <li>"Update record 42 in the Projects table with Status 'Complete'"</li>
            </ul>
            
            <h2>üìö Configuration Options</h2>
            
            <h3>Required Headers</h3>
            <ul>
                <li><code>x-fmodata-host</code>: FileMaker server URL</li>
                <li><code>x-fmodata-database</code>: Database name/filename</li>
            </ul>
            
            <h3>Authentication Headers (choose one)</h3>
            <p><strong>Basic Auth:</strong></p>
            <ul>
                <li><code>x-fmodata-username</code>: FileMaker username</li>
                <li><code>x-fmodata-password</code>: FileMaker password</li>
            </ul>
            
            <p><strong>Otto Auth:</strong></p>
            <ul>
                <li><code>x-fmodata-otto-api-key</code>: Otto API key</li>
                <li><code>x-fmodata-otto-port</code>: Otto port (Otto3 only, optional)</li>
            </ul>
            
            <div class="warning">
                <strong>‚ö†Ô∏è Security Note:</strong> Your credentials are sent as headers with each request. Make sure to use HTTPS and keep your configuration files secure. Never commit credentials to version control.
            </div>
            
            <h2>üîó Resources</h2>
            <ul>
                <li><strong>Health Check:</strong> <code>/api/health</code></li>
                <li><strong>MCP Endpoint:</strong> <code>/api/mcp</code></li>
                <li><strong>GitHub:</strong> <a href="https://github.com/proofgeist/odata-mcp" target="_blank">https://github.com/proofgeist/odata-mcp</a></li>
                <li><strong>npm Package:</strong> <code>fmodata-mcp</code></li>
            </ul>
        </div>
        
        <footer>
            <p>Built with <a href="https://www.npmjs.com/package/fmodata" target="_blank">fmodata</a> and <a href="https://www.npmjs.com/package/mcp-handler" target="_blank">mcp-handler</a></p>
            <p>Made with Claude and Cursor üëª</p>
        </footer>
    </div>
</body>
</html>
